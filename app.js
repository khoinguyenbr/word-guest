!function(){const e=6,t=["CÃ‚Y","HOA","BÃNH","TRÃI","BAY","Cáº¤N","HÃ”N","NHáº¢Y","TÃM","BÆ I","MÃ€U","XANH","CHÃ“","MÃˆO","LANH","TÃšI","BÃšT","SÃCH","BÃŒNH","ÄIá»†N","NÆ¯á»šC","Lá»¬A","Sáº¤M","Äáº¤T","THÃš","DÃ‚Y","GIáº¤Y","RÃˆM","BÃ€N","TIVI"],n={title:{win:"XIN CHÃšC Má»ªNG",lose:"TIáº¾C THáº¬T Äáº¤Y"},message:{win:"lÃ  chá»¯ cáº§n tÃ¬m trong lÆ°á»£t chÆ¡i hÃ´m nay, báº¡n tháº­t lÃ  xá»‹n xÃ² !",lose:"má»›i lÃ  chá»¯ cáº§n tÃ¬m trong lÆ°á»£t chÆ¡i hÃ´m nay, cÃ²n chÃºt ná»¯a thÃ´i"},invite:"HÃ£y quay láº¡i vÃ o ngÃ y mai Ä‘á»ƒ tÃ¬m chá»¯ tiáº¿p theo nhÃ© ðŸ˜˜"},s=["_","Â´","`","?","~","."],o={A:["A","Ã","Ã€","áº¢","Ãƒ","áº "],"Ã‚":["Ã‚","áº¤","áº¦","áº¨","áºª","áº¬"],"Ä‚":["Ä‚","áº®","áº°","áº²","áº´","áº¶"],E:["E","Ã‰","Ãˆ","áºº","áº¼","áº¸"],"ÃŠ":["ÃŠ","áº¾","á»€","á»‚","á»„","á»†"],I:["I","Ã","ÃŒ","á»ˆ","Ä¨","á»Š"],O:["O","Ã“","Ã’","á»Ž","Ã•","á»Œ"],"Ã”":["Ã”","á»","á»’","á»”","á»–","á»˜"],"Æ ":["Æ ","á»š","á»œ","á»ž","á» ","á»¢"],U:["U","Ãš","Ã™","á»¦","Å¨","á»¤"],"Æ¯":["Æ¯","á»¨","á»ª","á»¬","á»®","á»°"],Y:["Y","Ã","á»²","á»¶","á»¸","á»´"]},i=$("#keyboard"),r=$("#words"),d=$("#overlay"),a=$("#modal"),l="bg-gray-600 hover:border-gray-400",c="disabled bg-gray-800";function g(e){const t=Object.keys(o);for(let n of t){const t=o[n].indexOf(e);if(t>-1)return s[t]}return"_"}function f(e){const t=Object.keys(o);for(let n of t)if(o[n].includes(e))return n;return e}function h(e,t){return f(e)===f(t)}function u(e){a.find(".modal-title").text(e?n.title.win:n.title.lose),a.find(".result").text(C),a.find(".message").text(e?n.message.win:n.message.lose),a.find(".invite").text(n.invite),a.add(d).removeClass("hidden")}function y(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}$(window).on("resize orientationchange",function(){setTimeout(()=>{const e=2*parseInt(r.css("margin-top"));r.height(window.innerHeight-i.height()-r.offset().top-e)},200)}),function(){const e="rounded lg:rounded-xl text-white text-center font-medium lg:border-2 border-gray-600 hover:border-gray-400 transition cursor-pointer bg-gray-600 active:bg-gray-400",t=$('<ul class="w-full space-y-2 lg:space-y-4"></ul>'),n=$('<li class="flex space-x-2 lg:space-x-4 justify-center flex-wrap"></li>'),o=s.map(t=>`<div class="sign ${e}">${t}</div>`);n.append(o);const d=[["A","Ä‚","Ã‚","B","C","D","Ä","E","ÃŠ","G"],["H","I","K","L","M","N","O","Ã”","Æ "],["P","Q","R","S","T","U","Æ¯","V","X","Y"]].map(t=>{const n=$('<li class="flex space-x-2 lg:space-x-4 justify-center flex-wrap"></li>'),s=t.map(t=>`<div class="key ${e}">${t}</div>`);return n.append(s),n});t.append(n),t.append(d),i.append(t),i.append(`<div class="actions flex justify-center w-full my-4 space-x-8">\n    <div id="enter" class="key func ${e}">ENTER</div>\n    <div id="delete" class="key func ${e}">DELETE</div>\n    </div>`),$("#enter").addClass(c).removeClass(l),setTimeout(()=>{const e=2*parseInt(r.css("margin-top"));r.height(window.innerHeight-i.height()-r.offset().top-e)},200)}();const C=function(){const e=(Cookies.get("history")||"").split("_");if(e.length===t.length)return Cookies.set("history",""),t[Math.floor(Math.random()*t.length)];const n=t.filter(t=>!e.includes(t));return 0===n.length?(Cookies.set("history",""),t[Math.floor(Math.random()*t.length)]):n[Math.floor(Math.random()*n.length)]}();if(function(t){const n=r.children();for(let s=0;s<e;s++){const e=$('<li class="flex space-x-4"></li>');for(let n=0;n<t.length;n++)e.append(`<div class="relative text-white w-16 h-16 lg:w-20 lg:h-20 rounded-md font-bold border-2 ${0!==s?"border-gray-600":"border-gray-400"} text-xl lg:text-3xl flex justify-center items-center">\n          </div>`);n.append(e)}}(C),!function(){const e=Cookies.get("days")||"",t=y();return!e.includes(t)}())return d.removeClass("hidden"),void $("#outofturn-modal").removeClass("hidden");let m=0,v=0,p=!1;const b=(e=v)=>r.find("li").eq(m).find("div").eq(e);function x(e){const t=r.find("li").eq(m);v=e,t.children().removeClass("border-4 border-gray-200").addClass("border-2 border-gray-400"),t.children().eq(e).removeClass("border-2 border-gray-400").addClass("border-4 border-gray-200")}function k(){const t=r.find("li").eq(m).text();[...t].forEach((e,t)=>{const n=b(t),s=g(e);let r=!1;if(n.removeClass("border-2 border-4"),h(e,C[t]))n.addClass("bg-green-700");else if(C.split("").filter(t=>h(t,e)).length)n.addClass("bg-yellow-700");else{r=!0,n.addClass("bg-gray-600");const t=f(e);i.find(`div:not(.func):contains(${t})`).addClass(c).removeClass(l)}!r&&s!==g(C[t])&&Object.keys(o).includes(f(e))?n.addClass("error-dot"):n.removeClass("error-dot"),function(e){for(let t of[...C])if(g(t)===e)return!0;return!1}(s)||i.find(`div:contains(${s})`).addClass(c).removeClass(l)}),p=C===t.trim();const n=Cookies.get("days")||"",s=Cookies.get("history")||"";return p?(u(!0),Cookies.set("days",`${n}_${y()}`),void Cookies.set("history",`${s}_${C}`)):m!==e-1||p?void function(e){const t=r.find("li");t.eq(e).find("div").removeClass("border-gray-600").addClass("border-gray-400"),m=e,x(0),r.animate({scrollTop:t.eq(e).position().top-60+r.scrollTop()},300)}(m+1):(u(!1),Cookies.set("days",`${n}_${y()}`),void Cookies.set("history",`${s}_${C}`))}r.on("click tap","li > div",function(){$(this).parent().index()===m&&x($(this).index())}),i.on("click.key tap.key","div.key",function(){const e=this.innerHTML,t=b();if($(this).hasClass("disabled")||$(this).hasClass("hold-on"))return;const n=Object.keys(o).includes(e);"ENTER"!==e&&"DELETE"!==e?(v<C.length-1&&!n?x(v+1):n&&($signKeys=i.find(".sign:not(.disabled)"),$signKeys.addClass("border-2 border-green-400"),i.find(".key").addClass("hold-on bg-gray-800").removeClass("bg-gray-600")),t.data("origin",e),t.text(e)):"DELETE"===e?t.text().trim()?t.text(""):t.index()>0&&(x(v-1),b().text("")):k();const s=$("#enter");r.find("li").eq(m).text().trim().length<C.length?s.addClass(c).removeClass(l):s.removeClass(c).addClass(l)}),i.on("click tap","div.sign",function(){const e=this.innerHTML,t=b();i.find(".sign").removeClass("border-2 border-green-400");const n=t.data("origin");n&&!$(this).hasClass("disabled")&&(i.find(".key").removeClass("hold-on bg-gray-800").not(".disabled").addClass("bg-gray-600"),t.text(function(e,t){const n=s.indexOf(t);return o[e]?o[e][n<0?0:n]:e}(n,e)),v<C.length-1&&x(v+1))}),x(0)}();
